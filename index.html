<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Receitas WikiFood</title>
 <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
<link rel="stylesheet" href="wikifood.css">
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-dark bg-orange border-bottom shadow-sm">
  <div class="container">
    <a class="navbar-brand fw-bold" href="#">Wikifood</a>
    <img src="wikicadas.jpg" alt="" class="icon-image">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" href="#">Início</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Regiões</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="cadastros.html">Cadastre-se aqui!</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<div class="container">
  <h2>Lista de Receitas</h2>
  <div id="receitasList"></div>
</div>
<script>
const token = 'Bearer SEU_TOKEN_AQUI'; // Substitua pelo token válido

async function carregarReceitas() {
  const listContainer = document.getElementById('receitasList');
  listContainer.innerHTML = 'Carregando receitas...';

  try {
    const response = await fetch('https://wikifood.gustavoanjos.com/api/Receipt', {
      headers: {
        'Authorization': token
      }
    });

    if (!response.ok) {
      listContainer.innerHTML = `Erro ao carregar receitas: ${response.status}`;
      return;
    }

    const receitas = await response.json();
    listContainer.innerHTML = '';

    if (!Array.isArray(receitas) || receitas.length === 0) {
      listContainer.innerHTML = 'Nenhuma receita encontrada.';
      return;
    }

    receitas.forEach(r => {
      const div = document.createElement('div');
      div.className = 'receita';

      const imgDiv = document.createElement('div');
      imgDiv.className = 'placeholder-img';
      imgDiv.textContent = 'Imagem não carregada';
      div.appendChild(imgDiv);

      const title = document.createElement('div');
      title.className = 'title';
      title.textContent = r.title || 'Sem título';
      div.appendChild(title);

      const desc = document.createElement('div');
      desc.className = 'description';
      desc.textContent = r.description || 'Sem descrição';
      div.appendChild(desc);

      listContainer.appendChild(div);
    });

  } catch (error) {
    listContainer.innerHTML = 'Erro de comunicação com a API!';
    console.error(error);
  }
}

carregarReceitas();
</script>
<footer class="bg-orange text-white pt-4 pb-2">
  <div class="container text-center">
    <h5 class="mb-3">Wikifood</h5>
    <p>Sabores do Brasil e do Mundo em um só lugar.</p>
    <div class="mb-3">
      <a href="#" class="text-white me-3">Início</a>
      <a href="#" class="text-white me-3">Regiões</a>
      <a href="#" class="text-white me-3">Receitas</a>
      <a href="#" class="text-white">Contato</a>
    </div>
    <small>&copy; 2025 Wikifood. Todos os direitos reservados.</small>
  </div>
</footer>

</body>
</html>
