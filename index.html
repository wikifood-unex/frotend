<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Receitas WikiFood</title>
<style>
  body { font-family: Arial, sans-serif; background:#f2f2f2; padding:20px; }
  .container { max-width:800px; margin:auto; }
  h2 { text-align:center; }
  .receita { background:#fff; padding:15px; margin-bottom:15px; border-radius:8px; box-shadow:0 0 5px rgba(0,0,0,0.1); }
  .title { font-weight:700; font-size:18px; }
  .description { margin-top:8px; }
  .placeholder-img { width:100%; height:150px; background:#ccc; border-radius:6px; display:flex; align-items:center; justify-content:center; color:#555; font-weight:600; margin-bottom:10px; }
</style>
</head>
<body>

<div class="container">
  <h2>Lista de Receitas</h2>
  <div id="receitasList"></div>
</div>

<script>
const token = 'Bearer SEU_TOKEN_AQUI'; // Substitua pelo token válido

async function carregarReceitas() {
  const listContainer = document.getElementById('receitasList');
  listContainer.innerHTML = 'Carregando receitas...';

  try {
    const response = await fetch('https://wikifood.gustavoanjos.com/api/Receipt', {
      headers: {
        'Authorization': token
      }
    });

    if (!response.ok) {
      listContainer.innerHTML = `Erro ao carregar receitas: ${response.status}`;
      return;
    }

    const receitas = await response.json();
    listContainer.innerHTML = '';

    if (!Array.isArray(receitas) || receitas.length === 0) {
      listContainer.innerHTML = 'Nenhuma receita encontrada.';
      return;
    }

    receitas.forEach(r => {
      const div = document.createElement('div');
      div.className = 'receita';

      const imgDiv = document.createElement('div');
      imgDiv.className = 'placeholder-img';
      imgDiv.textContent = 'Imagem não carregada';
      div.appendChild(imgDiv);

      const title = document.createElement('div');
      title.className = 'title';
      title.textContent = r.title || 'Sem título';
      div.appendChild(title);

      const desc = document.createElement('div');
      desc.className = 'description';
      desc.textContent = r.description || 'Sem descrição';
      div.appendChild(desc);

      listContainer.appendChild(div);
    });

  } catch (error) {
    listContainer.innerHTML = 'Erro de comunicação com a API!';
    console.error(error);
  }
}

carregarReceitas();
</script>

</body>
</html>
